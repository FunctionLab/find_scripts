<pre class="code">
<span class="srcline"><span class="lineno"><a href="5,1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T1U3">pot</span>] = <span class="message warning" id="M3F6C">UGM_ConfigurationPotential</span>(<span class="var type1" id="S3T4U6">y</span>,<span class="var type1" id="S4T8U7">nodePot</span>,<span class="var type1" id="S5T10U8">edgePot</span>,<span class="var type1" id="S6T9U9">edgeEnds</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="5,2"> 2</a></span><span class="line"><span class="comment">% [pot] = UGM_ConfigurationPotential(y,nodePot,edgePot,edgeEnds)</span></span></span>
<span class="srcline"><span class="lineno"><a href="5,3"> 3</a></span><span class="line"><span class="mxinfo" id="T1:U6"><span class="var type1" id="S7T1U12">nNodes</span> = <span class="mxinfo" id="T1:U8">size(<span class="var type1" id="S4T8U15">nodePot</span>,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="5,4"> 4</a></span><span class="line"><span class="mxinfo" id="T1:U10"><span class="var type1" id="S9T1U19">nEdges</span> = <span class="mxinfo" id="T1:U12">size(<span class="var type1" id="S6T9U22">edgeEnds</span>,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="5,5"> 5</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="5,6"> 6</a></span><span class="line"><span class="mxinfo" id="T1:U14"><span class="var type1" id="S2T1U26">pot</span> = <span class="mxinfo" id="T1:U16">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="5,7"> 7</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="5,8"> 8</a></span><span class="line"><span class="comment">% Nodes</span></span></span>
<span class="srcline"><span class="lineno"><a href="5,9"> 9</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S10T1U30">n</span> = <span class="mxinfo" id="T1:U18">1</span>:<span class="var type1" id="S7T1U33">nNodes</span></span></span>
<span class="srcline"><span class="lineno"><a href="5,10">10</a></span><span class="line">   <span class="mxinfo" id="T1:U20"><span class="var type1" id="S2T1U36">pot</span> = <span class="mxinfo" id="T1:U22"><span class="var type1" id="S2T1U38">pot</span>*<span class="mxinfo" id="T1:U24"><span class="var type1" id="S4T8U40">nodePot</span>(<span class="var type1" id="S10T1U41">n</span>,<span class="mxinfo" id="T1:U27"><span class="var type1" id="S3T4U43">y</span>(<span class="var type1" id="S10T1U44">n</span>)</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="5,11">11</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="5,12">12</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="5,13">13</a></span><span class="line"><span class="comment">% Edges</span></span></span>
<span class="srcline"><span class="lineno"><a href="5,14">14</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S11T1U47">e</span> = <span class="mxinfo" id="T1:U31">1</span>:<span class="var type1" id="S9T1U50">nEdges</span></span></span>
<span class="srcline"><span class="lineno"><a href="5,15">15</a></span><span class="line">   <span class="mxinfo" id="T11:U33"><span class="var type1" id="S12T11U53">n1</span> = <span class="mxinfo" id="T11:U35"><span class="var type1" id="S6T9U55">edgeEnds</span>(<span class="var type1" id="S11T1U56">e</span>,<span class="mxinfo" id="T1:U38">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="5,16">16</a></span><span class="line">   <span class="mxinfo" id="T11:U39"><span class="var type1" id="S13T11U60">n2</span> = <span class="mxinfo" id="T11:U41"><span class="var type1" id="S6T9U62">edgeEnds</span>(<span class="var type1" id="S11T1U63">e</span>,<span class="mxinfo" id="T1:U44">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="5,17">17</a></span><span class="line">   <span class="mxinfo" id="T1:U45"><span class="var type1" id="S2T1U67">pot</span> = <span class="mxinfo" id="T1:U47"><span class="var type1" id="S2T1U69">pot</span>*<span class="mxinfo" id="T1:U49"><span class="var type1" id="S5T10U71">edgePot</span>(<span class="mxinfo" id="T1:U51"><span class="var type1" id="S3T4U73">y</span>(<span class="var type1" id="S12T11U74">n1</span>)</span>,<span class="mxinfo" id="T1:U54"><span class="var type1" id="S3T4U76">y</span>(<span class="var type1" id="S13T11U77">n2</span>)</span>,<span class="var type1" id="S11T1U78">e</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="5,18">18</a></span><span class="line"><span class="keyword"><span class="keyword">end</span></span></span></span>
</pre>
