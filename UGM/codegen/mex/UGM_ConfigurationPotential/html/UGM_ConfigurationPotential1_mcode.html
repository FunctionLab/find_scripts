<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T3U3">pot</span>] = <span class="message warning" id="M1F1C">UGM_ConfigurationPotential</span>(<span class="var type1" id="S3T4U6">y</span>,<span class="var type1" id="S4T1U7">nodePot</span>,<span class="var type1" id="S5T5U8">edgePot</span>,<span class="var type1" id="S6T2U9">edgeEnds</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,2"> 2</a></span><span class="line"><span class="comment">% [pot] = UGM_ConfigurationPotential(y,nodePot,edgePot,edgeEnds)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,3"> 3</a></span><span class="line"><span class="mxinfo" id="T3:U6"><span class="var type1" id="S7T3U12">nNodes</span> = <span class="mxinfo" id="T3:U8">size(<span class="var type1" id="S4T1U15">nodePot</span>,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,4"> 4</a></span><span class="line"><span class="mxinfo" id="T3:U10"><span class="var type1" id="S9T3U19">nEdges</span> = <span class="mxinfo" id="T3:U12">size(<span class="var type1" id="S6T2U22">edgeEnds</span>,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,5"> 5</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,6"> 6</a></span><span class="line"><span class="mxinfo" id="T3:U14"><span class="var type1" id="S2T3U26">pot</span> = <span class="mxinfo" id="T3:U16">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,7"> 7</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,8"> 8</a></span><span class="line"><span class="comment">% Nodes</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,9"> 9</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S10T3U30">n</span> = <span class="mxinfo" id="T3:U18">1</span>:<span class="var type1" id="S7T3U33">nNodes</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,10">10</a></span><span class="line">   <span class="mxinfo" id="T3:U20"><span class="var type1" id="S2T3U36">pot</span> = <span class="mxinfo" id="T3:U22"><span class="var type1" id="S2T3U38">pot</span>*<span class="mxinfo" id="T3:U24"><span class="var type1" id="S4T1U40">nodePot</span>(<span class="var type1" id="S10T3U41">n</span>,<span class="mxinfo" id="T3:U27"><span class="var type1" id="S3T4U43">y</span>(<span class="var type1" id="S10T3U44">n</span>)</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,11">11</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,12">12</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,13">13</a></span><span class="line"><span class="comment">% Edges</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,14">14</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S11T3U47">e</span> = <span class="mxinfo" id="T3:U31">1</span>:<span class="var type1" id="S9T3U50">nEdges</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,15">15</a></span><span class="line">   <span class="mxinfo" id="T6:U33"><span class="var type1" id="S12T6U53">n1</span> = <span class="mxinfo" id="T6:U35"><span class="var type1" id="S6T2U55">edgeEnds</span>(<span class="var type1" id="S11T3U56">e</span>,<span class="mxinfo" id="T3:U38">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,16">16</a></span><span class="line">   <span class="mxinfo" id="T6:U39"><span class="var type1" id="S13T6U60">n2</span> = <span class="mxinfo" id="T6:U41"><span class="var type1" id="S6T2U62">edgeEnds</span>(<span class="var type1" id="S11T3U63">e</span>,<span class="mxinfo" id="T3:U44">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,17">17</a></span><span class="line">   <span class="mxinfo" id="T3:U45"><span class="var type1" id="S2T3U67">pot</span> = <span class="mxinfo" id="T3:U47"><span class="var type1" id="S2T3U69">pot</span>*<span class="mxinfo" id="T3:U49"><span class="var type1" id="S5T5U71">edgePot</span>(<span class="mxinfo" id="T3:U51"><span class="var type1" id="S3T4U73">y</span>(<span class="var type1" id="S12T6U74">n1</span>)</span>,<span class="mxinfo" id="T3:U54"><span class="var type1" id="S3T4U76">y</span>(<span class="var type1" id="S13T6U77">n2</span>)</span>,<span class="var type1" id="S11T3U78">e</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,18">18</a></span><span class="line"><span class="keyword"><span class="keyword">end</span></span></span></span>
</pre>
